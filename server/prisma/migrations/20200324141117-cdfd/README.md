# Migration `20200324141117-cdfd`

This migration has been generated by Sampo Lahtinen at 3/24/2020, 2:11:17 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Track" DROP CONSTRAINT IF EXiSTS "Track_trackMetadata_fkey",
ALTER COLUMN "trackMetadata" DROP NOT NULL;

ALTER TABLE "public"."Track" ADD FOREIGN KEY ("trackMetadata")REFERENCES "public"."TrackMetadata"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200324140313-change-metadat-namasdfdsfe..20200324141117-cdfd
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://sampo@localhost:5432/kloud_muzika"
 }
 generator client {
   provider = "prisma-client-js"
@@ -23,13 +23,13 @@
   posts Post[]
 }
 model Track {
-  id            Int           @id @default(autoincrement())
+  id            Int            @id @default(autoincrement())
   title         String
   fileId        String?
   artist        Artist
-  trackMetadata TrackMetadata
+  trackMetadata TrackMetadata?
 }
 model Artist {
   id      Int     @id @default(autoincrement())
```


