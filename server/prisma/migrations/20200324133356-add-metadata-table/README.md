# Migration `20200324133356-add-metadata-table`

This migration has been generated by Sampo Lahtinen at 3/24/2020, 1:33:56 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."MetaData" (
    "direct_link" text  NOT NULL DEFAULT '',
    "id" SERIAL,
    "original_file_path" text  NOT NULL DEFAULT '',
    "track" integer  NOT NULL ,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."MetaData" ADD FOREIGN KEY ("track")REFERENCES "public"."Track"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200320165055-add-track-artist-connection..20200324133356-add-metadata-table
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
-  
+
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://sampo@localhost:5432/kloud_muzika"
 }
 generator client {
   provider = "prisma-client-js"
@@ -23,21 +23,28 @@
   posts Post[]
 }
 model Track {
-  id    Int     @id @default(autoincrement())
-  title String
-  fileId  String?
+  id     Int     @id @default(autoincrement())
+  title  String
+  fileId String?
   artist Artist
 }
 model Artist {
-  id    Int     @id @default(autoincrement())
-  name String
-  country  String?
+  id      Int     @id @default(autoincrement())
+  name    String
+  country String?
 }
 model Album {
-  id    Int     @id @default(autoincrement())
-  name String
-  release_date  String?
+  id           Int     @id @default(autoincrement())
+  name         String
+  release_date String?
+}
+
+model MetaData {
+  id                 Int    @id @default(autoincrement())
+  track              Track
+  original_file_path String
+  direct_link        String
 }
```


